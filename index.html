<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>×ª×¤×¨×™×˜ ×ª××™ ×¦×¤×™×™×” - ×”×¦×‘×¢×”</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700;900&family=Rubik:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { margin: 0; padding: 0; }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes shimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }
    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-100px) rotate(720deg); opacity: 0; }
    }

    .menu-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }
    .menu-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.15);
    }

    .vote-btn {
      transition: all 0.2s ease;
      cursor: pointer;
      border: none;
      outline: none;
    }
    .vote-btn:hover {
      transform: scale(1.05);
      filter: brightness(1.1);
    }
    .vote-btn:active {
      transform: scale(0.97);
    }

    .expand-btn {
      transition: all 0.2s ease;
      cursor: pointer;
      background: none;
      border: none;
      outline: none;
    }
    .expand-btn:hover {
      opacity: 0.8;
    }

    .name-input {
      direction: rtl;
      text-align: right;
    }
    .name-input:focus {
      outline: none;
      border-color: #E63946;
      box-shadow: 0 0 0 3px rgba(230,57,70,0.15);
    }

    .results-toggle {
      transition: all 0.2s ease;
      cursor: pointer;
    }
    .results-toggle:hover {
      background: rgba(255,255,255,0.15) !important;
    }

    .progress-bar {
      transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useCallback, useRef } = React;

    const BLOB_ID = "019c85ea-9ebd-7424-ad89-10d7582d12f0";
    const BLOB_URL = `https://jsonblob.com/api/jsonBlob/${BLOB_ID}`;

    // Shared storage helpers
    const sharedStorage = {
      async getVotes() {
        try {
          const res = await fetch(BLOB_URL, {
            headers: { "Accept": "application/json" }
          });
          const data = await res.json();
          return data.votes || {};
        } catch (e) {
          console.error("Failed to fetch votes:", e);
          return {};
        }
      },
      async saveVotes(votes) {
        try {
          const res = await fetch(BLOB_URL, {
            method: "PUT",
            headers: {
              "Content-Type": "application/json",
              "Accept": "application/json"
            },
            body: JSON.stringify({ votes })
          });
          return await res.json();
        } catch (e) {
          console.error("Failed to save votes:", e);
        }
      }
    };

    const MENUS = [
      {
        id: 1,
        name: "×××¨×™×§×” ğŸ”",
        emoji: "ğŸ‡ºğŸ‡¸",
        color: "#E63946",
        main: "×”××‘×•×¨×’×¨×™× 180 ×’×¨×",
        description: "×”××‘×•×¨×’×¨×™× ×¢×¡×™×¡×™×™× ××‘×©×¨ ××“×•× ×•×¢×©×‘×™ ×ª×™×‘×•×œ ×˜×¨×™×™× ×¢×œ ×¤×œ× ×¦'×” ×œ×•×”×˜×ª, ×‘×œ×—×× ×™×™×” ××ª×•×§×” ×¢× ×—×¡×”, ×¢×’×‘× ×™×”, ×‘×¦×œ ×•××œ×¤×¤×•×Ÿ ×—××•×¥",
        sides: ["×¤×•×˜×˜×• ×××¨×™×§××™ ×¡×˜×™×™×œ ××§×“×•× ×œ×“×¡", "×—×¨×“×œ, ×§×˜×©×•×¤, ××œ×£ ×”××™×™×"],
        category: "×‘×©×¨×™",
      },
      {
        id: 2,
        name: "×”×•×˜ ×“×•×’ ×‘×¨ ğŸŒ­",
        emoji: "ğŸŒ­",
        color: "#E9C46A",
        main: "×”×•×˜ ×“×•×’ ×‘×¨",
        description: "××™× ×™ × ×§× ×™×§×™×•×ª ×‘×œ×—×× ×™×•×ª ×‘×× ×™×¡ ×˜×¨×™×•×ª ×¢× ×—×¨×“×œ, ×§×˜×©×•×¤, ×¦'×™××™×¦'×•×¨×™ ×•×›×¨×•×‘ ×›×‘×•×©. × ×§× ×™×§×™×•×ª ×¦'×•×¨×™×¡×•×¡ ×‘×’×¨×™×œ ×•× ×§× ×™×§×™×•×ª ×¢×•×£ ×§×¨×× ×¦'×™×•×ª",
        sides: ["×¤×•×˜×˜×• ×××¨×™×§××™ ×¡×˜×™×™×œ ××§×“×•× ×œ×“×¡", "×—×¨×“×œ, ×§×˜×©×•×¤, ××œ×£ ×”××™×™×"],
        category: "×‘×©×¨×™",
      },
      {
        id: 3,
        name: "×©× ×™×¦×œ ×¡×˜×™×™×©×Ÿ ğŸ—",
        emoji: "ğŸ—",
        color: "#F4A261",
        main: "×©× ×™×¦×œ ×¡×˜×™×™×©×Ÿ",
        description: "× ×ª×—×™ ×—×–×” ×¢×•×£ ×‘×¦×™×¤×•×™ ×¤×¨×™×š ×‘×œ×—×× ×™×™×ª ×—×œ×” ××ª×•×§×” ×¢× ××˜×‘×•×—×” ×—××”, ×˜×‘×¢×•×ª ×—×¦×™×œ ×§×œ×•×™, ×—××•×¦×™ ×”×‘×™×ª ×•×˜×—×™× ×” ×”×¨ ×‘×¨×›×”",
        sides: ["×¤×•×˜×˜×• ×××¨×™×§××™ ×¡×˜×™×™×œ ××§×“×•× ×œ×“×¡", "×—×¨×“×œ, ×§×˜×©×•×¤, ××œ×£ ×”××™×™×"],
        category: "×‘×©×¨×™",
      },
      {
        id: 4,
        name: '××¡××“×• "×¤××Ÿ" ×¡×˜×™×™×©×Ÿ ğŸ¥©',
        emoji: "ğŸ¥©",
        color: "#8B2500",
        main: '"×¤××Ÿ" ×¡×˜×™×™×©×Ÿ',
        description: "×œ×—×× ×™×™×ª ×¤×¨× ×” ××™×•×—×“×ª ×•× ×™××•×—×” ×‘××™×œ×•×™ ××¡××“×• ××¤×•×¨×§ ×•×¡×œ×˜ ×§×•×œ×¡×œ××• ×××¨×™×§××™",
        sides: ["×¤×•×˜×˜×• ×××¨×™×§××™ ×¡×˜×™×™×œ ××§×“×•× ×œ×“×¡", "×—×¨×“×œ, ×§×˜×©×•×¤, ××œ×£ ×”××™×™×"],
        category: "×‘×©×¨×™",
      },
      {
        id: 5,
        name: "×¤×™×¦×” ××™×˜×œ×§×™×ª ğŸ•",
        emoji: "ğŸ•",
        color: "#2A9D8F",
        main: "×¤×™×¦×” ×¡×˜×™×™×©×Ÿ",
        description: "×¤×™×¦×” × ××¤×•×œ×™×˜× ×™×ª 100% ××•×¦×¨×œ×” â€“ ××¨×’×¨×™×˜×” ×¢× ×¨×•×˜×‘ ×¢×’×‘× ×™×•×ª, ×‘×–×™×œ ×•××•×¦×¨×œ×”. ×ª×•×¡×¤×•×ª: ×–×™×ª×™×, ×‘×¦×œ, ×ª×™×¨×¡ ×•×¤×˜×¨×™×•×ª. ××¤×™×™×” ××•×œ ×¢×™× ×™ ×”××•×¨×—×™×",
        sides: ["× ×¦×¨×™ ×™×¨×§×•×ª ×‘×§×•× ×•×¡ â€“ ×’×–×¨, ××œ×¤×¤×•×Ÿ, ×©×¨×™, ×ª×™×¨×¡, ×¤×œ×¤×œ×™× ×¢× ××ª×‘×œ ×©×£"],
        category: "×—×œ×‘×™",
      },
      {
        id: 6,
        name: "×¤×™×© & ×¦'×™×¤×¡ ğŸŸ",
        emoji: "ğŸŸ",
        color: "#457B9D",
        main: "×¤×™×© & ×¦'×™×¤×¡",
        description: "× ×ª×—×•× ×™ ×¤×™×œ×” ×“×’ ×§×•×“ ××¦×•×¤×™× ×‘×˜××¤×•×¨×” ××•×’×©×™× ×œ×¦×“ ×¤×•×˜×˜×• ×¤×¨×™×š, ×¨×•×˜×‘ ××™×•×œ×™ ×¦'×™×¤×•×˜×œ×” ×•××™×•×œ×™ ×¦'×™×œ×™",
        sides: [],
        category: "×—×œ×‘×™",
      },
      {
        id: 7,
        name: "×‘×•×¨×§×¡ ×¨××œ×” ğŸ¥Ÿ",
        emoji: "ğŸ¥Ÿ",
        color: "#6D4C41",
        main: "×‘×•×¨×§×¡ ×¨××œ×”",
        description: "×©×•×©× ×™ ×‘×•×¨×§×¡ ×˜×•×¨×§×™ ×‘××¤×™×” ×˜×¨×™×™×” ×‘×¡××•×š ×œ××™×¨×•×¢, ×‘××’×•×•×Ÿ ×˜×¢××™×: ×ª×¨×“, ×ª×¤×•×— ××“××” ×•×’×‘×™× ×”. ××•×’×© ×¢× ×˜×—×™× ×”, ×¡×œ×¡×” ×¤×™×§× ×˜×™×ª, ×¡×œ×¡×” ×¢×’×‘× ×™×•×ª ×ª××¨, ×§×•×¨× ×™×©×•×Ÿ ×•×‘×™×¦×™×",
        sides: [],
        category: "×—×œ×‘×™",
      },
      {
        id: 8,
        name: "×‘×™×™×¡×™×§ â€“ ×©×ª×™×™×” ×•× ×©× ×•×©×™× ğŸ¿",
        emoji: "ğŸ¿",
        color: "#264653",
        main: "×—×‘×™×œ×ª ×‘×™×™×¡×™×§",
        description: "×‘×¨ ×©×ª×™×™×” + × ×©× ×•×©×™× ×‘×œ×‘×“: ×¤×™×¦×•×—×™×, × ××¦'×•×¡, ×¤×•×¤×§×•×¨×Ÿ ×•×××ª×§×™ ×©×•×§. ×œ×œ× ×× ×” ×¢×™×§×¨×™×ª.",
        sides: [],
        category: "×¤×¨×•×•×”",
      },
    ];

    const COMMON_ITEMS = {
      drinks: "×©×ª×™×™×” ×§×œ×” (×§×•×§×” ×§×•×œ×”) + ×‘×™×¨×” ×§×¨×œ×¡×‘×¨×’/×˜×•×‘×•×¨×’",
      snacks: "×¤×™×¦×•×—×™×, × ××¦'×•×¡, ×¤×•×¤×§×•×¨×Ÿ, ×××ª×§×™ ×©×•×§",
      dessert: "××™×§×¡ ×¤×˜×™×¤×•×¨×™× (×‘×™×Ÿ ×”×¨×‘×¢ ×”-3 ×œ-4)",
    };

    function MenuVote() {
      const [votes, setVotes] = useState({});
      const [voterName, setVoterName] = useState("");
      const [hasVoted, setHasVoted] = useState(false);
      const [myVote, setMyVote] = useState(null);
      const [expandedCard, setExpandedCard] = useState(null);
      const [loading, setLoading] = useState(true);
      const [showResults, setShowResults] = useState(false);
      const [animateIn, setAnimateIn] = useState(false);
      const [submitting, setSubmitting] = useState(false);
      const pollRef = useRef(null);

      // Load votes from shared storage + local vote info
      useEffect(() => {
        const loadData = async () => {
          const remoteVotes = await sharedStorage.getVotes();
          setVotes(remoteVotes);

          // Check if current user already voted (stored locally)
          try {
            const saved = localStorage.getItem("my-menu-vote");
            if (saved) {
              const parsed = JSON.parse(saved);
              setHasVoted(true);
              setMyVote(parsed.menuId);
              setVoterName(parsed.name);
            }
          } catch (e) {}

          setLoading(false);
          setTimeout(() => setAnimateIn(true), 100);
        };
        loadData();

        // Poll for updated votes every 10 seconds
        pollRef.current = setInterval(async () => {
          const remoteVotes = await sharedStorage.getVotes();
          setVotes(remoteVotes);
        }, 10000);

        return () => clearInterval(pollRef.current);
      }, []);

      const submitVote = useCallback(
        async (menuId) => {
          if (!voterName.trim() || submitting) return;
          setSubmitting(true);

          try {
            // Fetch latest votes to avoid race conditions
            const latestVotes = await sharedStorage.getVotes();
            const newVotes = { ...latestVotes };

            // Remove previous vote if exists
            if (myVote) {
              const prevKey = String(myVote);
              if (newVotes[prevKey]) {
                newVotes[prevKey] = newVotes[prevKey].filter(
                  (v) => v !== voterName.trim()
                );
                if (newVotes[prevKey].length === 0) delete newVotes[prevKey];
              }
            }

            const key = String(menuId);
            if (!newVotes[key]) newVotes[key] = [];
            // Prevent duplicate names on same option
            if (!newVotes[key].includes(voterName.trim())) {
              newVotes[key].push(voterName.trim());
            }

            await sharedStorage.saveVotes(newVotes);

            setVotes(newVotes);
            setMyVote(menuId);
            setHasVoted(true);

            localStorage.setItem(
              "my-menu-vote",
              JSON.stringify({ menuId, name: voterName.trim() })
            );
          } catch (e) {
            console.error("Vote error:", e);
          } finally {
            setSubmitting(false);
          }
        },
        [votes, voterName, myVote, submitting]
      );

      const getTotalVotes = () => {
        return Object.values(votes).reduce((sum, arr) => sum + arr.length, 0);
      };

      const getMenuVotes = (menuId) => {
        return votes[String(menuId)] || [];
      };

      const getWinner = () => {
        let maxVotes = 0;
        let winnerId = null;
        for (const [id, voters] of Object.entries(votes)) {
          if (voters.length > maxVotes) {
            maxVotes = voters.length;
            winnerId = Number(id);
          }
        }
        return winnerId;
      };

      if (loading) {
        return (
          <div style={styles.loadingScreen}>
            <div style={styles.loadingSpinner}>ğŸ€</div>
            <p style={{ color: "#fff", fontFamily: "inherit", marginTop: 16 }}>
              ×˜×•×¢×Ÿ...
            </p>
          </div>
        );
      }

      const winner = getWinner();
      const total = getTotalVotes();

      return (
        <div style={styles.container}>
          {/* Header */}
          <div
            style={{
              ...styles.header,
              opacity: animateIn ? 1 : 0,
              transform: animateIn ? "translateY(0)" : "translateY(-20px)",
              transition: "all 0.6s ease",
            }}
          >
            <div style={styles.headerBg}>
              <div style={styles.headerContent}>
                <div
                  style={{
                    fontSize: 42,
                    animation: "float 3s ease-in-out infinite",
                  }}
                >
                  ğŸ€
                </div>
                <h1 style={styles.title}>×ª×¤×¨×™×˜ ×ª××™ ×¦×¤×™×™×”</h1>
                <p style={styles.subtitle}>×¢×•× ×ª 2025-2026</p>
                <div style={styles.badge}>
                  <span style={{ fontSize: 13 }}>ğŸ”´</span> ×”×¦×‘×™×¢×• ×œ×ª×¤×¨×™×˜ ×”××•×¢×“×£
                  ×¢×œ×™×›×
                </div>
              </div>
            </div>
          </div>

          {/* Name Input */}
          {!hasVoted && (
            <div
              style={{
                ...styles.nameSection,
                opacity: animateIn ? 1 : 0,
                transform: animateIn ? "translateY(0)" : "translateY(20px)",
                transition: "all 0.6s ease 0.2s",
              }}
            >
              <label style={styles.nameLabel}>××” ×”×©× ×©×œ×š?</label>
              <input
                className="name-input"
                type="text"
                placeholder="×”×›× ×™×¡×• ××ª ×”×©× ×©×œ×›×..."
                value={voterName}
                onChange={(e) => setVoterName(e.target.value)}
                style={styles.nameInput}
              />
            </div>
          )}

          {hasVoted && (
            <div
              style={{
                ...styles.votedBanner,
                opacity: animateIn ? 1 : 0,
                transition: "all 0.4s ease",
              }}
            >
              <span style={{ fontSize: 20 }}>âœ…</span>
              <span>
                {voterName}, ×”×¦×‘×¢×ª ×œ
                {MENUS.find((m) => m.id === myVote)?.name}
              </span>
              <span style={{ fontSize: 12, opacity: 0.7 }}>
                (××¤×©×¨ ×œ×©× ×•×ª ×‘×œ×—×™×¦×” ×¢×œ ××¤×©×¨×•×ª ××—×¨×ª)
              </span>
            </div>
          )}

          {/* Results Toggle */}
          {total > 0 && (
            <div style={{ padding: "0 16px", maxWidth: 600, margin: "0 auto" }}>
              <button
                className="results-toggle"
                onClick={() => setShowResults(!showResults)}
                style={styles.resultsToggle}
              >
                <span>{showResults ? "ğŸ™ˆ ×”×¡×ª×¨ ×ª×•×¦××•×ª" : `ğŸ“Š ×”×¦×’ ×ª×•×¦××•×ª (${total} ×”×¦×‘×¢×•×ª)`}</span>
              </button>
            </div>
          )}

          {/* Common Items Banner */}
          <div
            style={{
              ...styles.commonBanner,
              opacity: animateIn ? 1 : 0,
              transform: animateIn ? "translateY(0)" : "translateY(20px)",
              transition: "all 0.6s ease 0.3s",
            }}
          >
            <div style={styles.commonTitle}>ğŸ» ××” ×›×•×œ× ××§×‘×œ×™×?</div>
            <div style={styles.commonItem}>
              <span style={styles.commonIcon}>ğŸ¥¤</span> {COMMON_ITEMS.drinks}
            </div>
            <div style={styles.commonItem}>
              <span style={styles.commonIcon}>ğŸ¿</span> {COMMON_ITEMS.snacks}
            </div>
            <div style={styles.commonItem}>
              <span style={styles.commonIcon}>ğŸ°</span> {COMMON_ITEMS.dessert}
            </div>
          </div>

          {/* Menu Cards */}
          <div style={styles.cardsGrid}>
            {MENUS.map((menu, index) => {
              const menuVotes = getMenuVotes(menu.id);
              const isExpanded = expandedCard === menu.id;
              const isMyVote = myVote === menu.id;
              const isWinner = winner === menu.id && total >= 2;
              const votePercent =
                total > 0 ? Math.round((menuVotes.length / total) * 100) : 0;

              return (
                <div
                  key={menu.id}
                  className="menu-card"
                  style={{
                    ...styles.card,
                    opacity: animateIn ? 1 : 0,
                    transform: animateIn ? "translateY(0)" : "translateY(30px)",
                    transition: `all 0.5s ease ${0.1 * index + 0.3}s`,
                    border: isMyVote
                      ? `3px solid ${menu.color}`
                      : "3px solid transparent",
                    background: isMyVote
                      ? `linear-gradient(white, white) padding-box, linear-gradient(135deg, ${menu.color}, ${menu.color}88) border-box`
                      : "#fff",
                  }}
                >
                  {isWinner && (
                    <div style={styles.winnerBadge}>
                      ğŸ‘‘ ××•×‘×™×œ
                    </div>
                  )}

                  {isMyVote && (
                    <div
                      style={{ ...styles.myVoteBadge, background: menu.color }}
                    >
                      âœ“ ×”×‘×—×™×¨×” ×©×œ×™
                    </div>
                  )}

                  <div
                    onClick={() =>
                      setExpandedCard(isExpanded ? null : menu.id)
                    }
                    style={styles.cardHeader}
                  >
                    <div style={styles.cardTop}>
                      <div
                        style={{
                          ...styles.menuEmoji,
                          background: `${menu.color}15`,
                        }}
                      >
                        <span style={{ fontSize: 28 }}>{menu.emoji}</span>
                      </div>
                      <div style={{ flex: 1, textAlign: "right" }}>
                        <h3 style={styles.menuName}>{menu.name}</h3>
                        <div style={styles.menuMeta}>
                          <span
                            style={{
                              ...styles.categoryBadge,
                              background: `${menu.color}18`,
                              color: menu.color,
                            }}
                          >
                            {menu.category}
                          </span>
                        </div>
                      </div>
                      <button
                        className="expand-btn"
                        style={{
                          ...styles.expandIcon,
                          transform: isExpanded
                            ? "rotate(180deg)"
                            : "rotate(0deg)",
                        }}
                      >
                        â–¼
                      </button>
                    </div>

                    <p style={styles.mainDish}>{menu.main}</p>

                    {/* Vote bar */}
                    {showResults && menuVotes.length > 0 && (
                      <div style={styles.voteBarContainer}>
                        <div
                          className="progress-bar"
                          style={{
                            ...styles.voteBar,
                            width: `${Math.max(votePercent, 8)}%`,
                            background: `linear-gradient(90deg, ${menu.color}, ${menu.color}cc)`,
                          }}
                        />
                        <span style={styles.voteCount}>
                          {menuVotes.length} ({votePercent}%)
                        </span>
                      </div>
                    )}

                    {showResults && menuVotes.length > 0 && (
                      <div style={styles.voterNames}>
                        {menuVotes.map((name, i) => (
                          <span key={i} style={{ ...styles.voterChip, borderColor: menu.color, color: menu.color }}>
                            {name}
                          </span>
                        ))}
                      </div>
                    )}
                  </div>

                  {/* Expanded Details */}
                  {isExpanded && (
                    <div style={styles.expandedContent}>
                      <div style={styles.detailSection}>
                        <div style={styles.detailLabel}>ğŸ“‹ ×ª×™××•×¨</div>
                        <p style={styles.detailText}>{menu.description}</p>
                      </div>
                      {menu.sides.length > 0 && (
                        <div style={styles.detailSection}>
                          <div style={styles.detailLabel}>ğŸŸ ×ª×•×¡×¤×•×ª</div>
                          {menu.sides.map((side, i) => (
                            <p key={i} style={styles.sideItem}>
                              â€¢ {side}
                            </p>
                          ))}
                        </div>
                      )}
                    </div>
                  )}

                  {/* Vote Button */}
                  {voterName.trim() && (
                    <button
                      className="vote-btn"
                      onClick={(e) => {
                        e.stopPropagation();
                        submitVote(menu.id);
                      }}
                      disabled={submitting}
                      style={{
                        ...styles.voteButton,
                        background: isMyVote
                          ? menu.color
                          : `linear-gradient(135deg, ${menu.color}, ${menu.color}dd)`,
                        opacity: submitting ? 0.6 : isMyVote ? 1 : 0.9,
                      }}
                    >
                      {submitting ? "×©×•×œ×—..." : isMyVote ? "âœ“ ×‘×—×¨×ª ×‘××¤×©×¨×•×ª ×”×–×•" : "×”×¦×‘×¢ ×œ×ª×¤×¨×™×˜ ×”×–×” ğŸ—³ï¸"}
                    </button>
                  )}
                </div>
              );
            })}
          </div>

          {/* Footer */}
          <div style={styles.footer}>
            <p style={{ opacity: 0.6, fontSize: 12 }}>
              Daily Events â€¢ ×ª××™ ×¦×¤×™×™×” ×¢×•× ×ª 2025-2026
            </p>
          </div>
        </div>
      );
    }

    const styles = {
      container: {
        direction: "rtl",
        fontFamily: "'Heebo', 'Rubik', sans-serif",
        minHeight: "100vh",
        background: "linear-gradient(165deg, #fafafa 0%, #f0f0f0 100%)",
        paddingBottom: 40,
      },
      loadingScreen: {
        display: "flex",
        flexDirection: "column",
        alignItems: "center",
        justifyContent: "center",
        minHeight: "100vh",
        background: "#1a1a2e",
      },
      loadingSpinner: {
        fontSize: 48,
        animation: "spin 1s linear infinite",
      },
      header: {
        position: "relative",
        overflow: "hidden",
      },
      headerBg: {
        background: "linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",
        padding: "40px 20px 30px",
        position: "relative",
      },
      headerContent: {
        textAlign: "center",
        position: "relative",
        zIndex: 1,
      },
      title: {
        fontFamily: "'Rubik', sans-serif",
        fontSize: 28,
        fontWeight: 800,
        color: "#fff",
        margin: "12px 0 4px",
        letterSpacing: "-0.5px",
      },
      subtitle: {
        color: "#E63946",
        fontSize: 16,
        fontWeight: 600,
        marginBottom: 14,
      },
      badge: {
        display: "inline-flex",
        alignItems: "center",
        gap: 6,
        background: "rgba(230, 57, 70, 0.15)",
        color: "#fff",
        padding: "6px 16px",
        borderRadius: 20,
        fontSize: 13,
        fontWeight: 500,
        border: "1px solid rgba(230, 57, 70, 0.3)",
      },
      nameSection: {
        padding: "20px 16px 8px",
        maxWidth: 600,
        margin: "0 auto",
      },
      nameLabel: {
        display: "block",
        fontSize: 15,
        fontWeight: 600,
        color: "#333",
        marginBottom: 8,
      },
      nameInput: {
        width: "100%",
        padding: "12px 16px",
        fontSize: 16,
        borderRadius: 12,
        border: "2px solid #e0e0e0",
        fontFamily: "'Heebo', sans-serif",
        transition: "all 0.2s ease",
        background: "#fff",
      },
      votedBanner: {
        display: "flex",
        flexDirection: "column",
        alignItems: "center",
        gap: 4,
        padding: "14px 16px",
        margin: "16px 16px 0",
        maxWidth: 568,
        marginLeft: "auto",
        marginRight: "auto",
        background: "linear-gradient(135deg, #d4edda, #c3e6cb)",
        borderRadius: 14,
        fontSize: 15,
        fontWeight: 600,
        color: "#155724",
        textAlign: "center",
      },
      resultsToggle: {
        width: "100%",
        padding: "10px 16px",
        marginTop: 12,
        background: "rgba(26, 26, 46, 0.08)",
        border: "none",
        borderRadius: 10,
        fontSize: 14,
        fontWeight: 600,
        color: "#333",
        cursor: "pointer",
        fontFamily: "'Heebo', sans-serif",
      },
      commonBanner: {
        margin: "16px 16px 8px",
        padding: "16px 18px",
        maxWidth: 568,
        marginLeft: "auto",
        marginRight: "auto",
        background: "#fff",
        borderRadius: 16,
        boxShadow: "0 2px 12px rgba(0,0,0,0.06)",
      },
      commonTitle: {
        fontSize: 16,
        fontWeight: 700,
        color: "#1a1a2e",
        marginBottom: 10,
      },
      commonItem: {
        fontSize: 13,
        color: "#555",
        padding: "4px 0",
        display: "flex",
        alignItems: "center",
        gap: 6,
      },
      commonIcon: {
        fontSize: 14,
        width: 20,
        textAlign: "center",
      },
      cardsGrid: {
        display: "flex",
        flexDirection: "column",
        gap: 14,
        padding: "12px 16px",
        maxWidth: 600,
        margin: "0 auto",
      },
      card: {
        borderRadius: 18,
        boxShadow: "0 2px 16px rgba(0,0,0,0.07)",
        overflow: "hidden",
        position: "relative",
        background: "#fff",
      },
      winnerBadge: {
        position: "absolute",
        top: 12,
        left: 12,
        background: "linear-gradient(135deg, #FFD700, #FFA500)",
        color: "#fff",
        fontSize: 11,
        fontWeight: 700,
        padding: "4px 10px",
        borderRadius: 8,
        zIndex: 2,
        boxShadow: "0 2px 8px rgba(255,165,0,0.3)",
      },
      myVoteBadge: {
        position: "absolute",
        top: 12,
        left: 12,
        color: "#fff",
        fontSize: 11,
        fontWeight: 700,
        padding: "4px 10px",
        borderRadius: 8,
        zIndex: 2,
      },
      cardHeader: {
        padding: "18px 18px 10px",
      },
      cardTop: {
        display: "flex",
        alignItems: "center",
        gap: 12,
      },
      menuEmoji: {
        width: 52,
        height: 52,
        borderRadius: 14,
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        flexShrink: 0,
      },
      menuName: {
        fontSize: 17,
        fontWeight: 700,
        color: "#1a1a2e",
        fontFamily: "'Rubik', sans-serif",
        marginBottom: 4,
      },
      menuMeta: {
        display: "flex",
        alignItems: "center",
        gap: 8,
      },
      categoryBadge: {
        fontSize: 11,
        fontWeight: 600,
        padding: "2px 8px",
        borderRadius: 6,
      },
      expandIcon: {
        fontSize: 12,
        color: "#aaa",
        padding: 8,
        transition: "transform 0.3s ease",
      },
      mainDish: {
        fontSize: 14,
        color: "#666",
        fontWeight: 500,
        marginTop: 10,
        paddingTop: 8,
        borderTop: "1px solid #f0f0f0",
      },
      voteBarContainer: {
        position: "relative",
        height: 24,
        background: "#f0f0f0",
        borderRadius: 12,
        marginTop: 10,
        overflow: "hidden",
      },
      voteBar: {
        position: "absolute",
        top: 0,
        right: 0,
        height: "100%",
        borderRadius: 12,
        minWidth: 30,
      },
      voteCount: {
        position: "absolute",
        left: 10,
        top: "50%",
        transform: "translateY(-50%)",
        fontSize: 11,
        fontWeight: 700,
        color: "#333",
        direction: "ltr",
      },
      voterNames: {
        display: "flex",
        flexWrap: "wrap",
        gap: 6,
        marginTop: 8,
      },
      voterChip: {
        fontSize: 11,
        fontWeight: 500,
        padding: "2px 8px",
        borderRadius: 6,
        border: "1px solid",
        background: "rgba(255,255,255,0.8)",
      },
      expandedContent: {
        padding: "0 18px 8px",
        animation: "slideUp 0.3s ease",
      },
      detailSection: {
        marginBottom: 10,
      },
      detailLabel: {
        fontSize: 13,
        fontWeight: 700,
        color: "#444",
        marginBottom: 4,
      },
      detailText: {
        fontSize: 13,
        color: "#666",
        lineHeight: 1.6,
      },
      sideItem: {
        fontSize: 13,
        color: "#666",
        padding: "2px 0",
      },
      voteButton: {
        width: "calc(100% - 36px)",
        margin: "4px 18px 16px",
        padding: "12px 16px",
        borderRadius: 12,
        color: "#fff",
        fontSize: 15,
        fontWeight: 700,
        fontFamily: "'Heebo', sans-serif",
        letterSpacing: "0.2px",
        boxShadow: "0 4px 14px rgba(0,0,0,0.15)",
      },
      footer: {
        textAlign: "center",
        padding: "30px 16px 10px",
        color: "#888",
        fontFamily: "'Heebo', sans-serif",
      },
    };

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<MenuVote />);
  </script>
</body>
</html>